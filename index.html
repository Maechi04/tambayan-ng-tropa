<!DOCTYPE html>
<html lang="tl">
<head>
  <meta charset="UTF-8" />
  <title>Tambayan ng Tropa</title>

  <!-- Firebase v12+ SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-analytics.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

    // Your Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyAnJGJRlBw1spQ-1dY5L1miVyQ5ptnoNV4",
      authDomain: "tambayanngtropa-86436.firebaseapp.com",
      projectId: "tambayanngtropa-86436",
      storageBucket: "tambayanngtropa-86436.firebasestorage.app",
      messagingSenderId: "1056515077642",
      appId: "1:1056515077642:web:6e4638e28f93dda68b11f3",
      measurementId: "G-R093DGT56H"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    // Expose globally
    window.firebaseAuth = auth;
    window.firebaseProvider = provider;
    window.signInWithPopup = signInWithPopup;
    window.signOut = signOut;
  </script>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f0f0f0; }
    .navbar { display:flex; justify-content:space-between; align-items:center; padding:10px 20px; background:#fff; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    .nav-logo .logo-text { font-weight:bold; font-size:20px; }
    .nav-links button { margin-left:10px; padding:6px 12px; cursor:pointer; border:none; border-radius:4px; background:#4285F4; color:white; display:inline-flex; align-items:center; }
    .main-container { padding:20px; }
    .profile-grid { display:flex; gap:20px; flex-wrap:wrap; }
    .profile-card { background:#fff; padding:15px; border-radius:8px; width:200px; text-align:center; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    .profile-card img { border-radius:50%; margin-bottom:10px; }
    .profile-card button { margin-top:8px; background:#34A853; color:white; }
  </style>
</head>
<body>

  <!-- NAVBAR -->
  <div class="navbar">
    <div class="nav-logo">
      <span class="logo-text">Tambayan ng Tropa üáµüá≠</span>
    </div>
    <div class="nav-links">
      <button>Home</button>
      <button>Messages</button>
      <button>Profile</button>
      <button id="loginBtn">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" 
             alt="Google" style="width:18px; vertical-align:middle; margin-right:6px;">
        Sign in with Google
      </button>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="main-container">
    <h2>Mga Tambay Ngayon</h2>
    <div class="profile-grid">
      <div class="profile-card">
        <img src="https://via.placeholder.com/100" />
        <h3>Juan Dela Cruz</h3>
        <p>Mahilig sa music üéµ</p>
        <button>View Profile</button>
      </div>
      <div class="profile-card">
        <img src="https://via.placeholder.com/100" />
        <h3>Maria Clara</h3>
        <p>Loves old-school vibes ‚ú®</p>
        <button>View Profile</button>
      </div>
      <div class="profile-card">
        <img src="https://via.placeholder.com/100" />
        <h3>Pedro Penduko</h3>
        <p>Tropa forever ü§ù</p>
        <button>View Profile</button>
      </div>
    </div>
  </div>

  <!-- Script for login/logout and profile buttons -->
  <script type="module">
    import { signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

    const loginBtn = document.getElementById("loginBtn");

    loginBtn.onclick = () => {
      signInWithPopup(window.firebaseAuth, window.firebaseProvider)
        .then((result) => {
          const user = result.user;
          alert(`Kumusta, ${user.displayName}! You are logged in.`);
          loginBtn.innerHTML = `<img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" 
                                  alt="Google" style="width:18px; vertical-align:middle; margin-right:6px;"> Logout`;
          loginBtn.onclick = () => {
            signOut(window.firebaseAuth).then(() => {
              alert("Logged out!");
              loginBtn.innerHTML = `<img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" 
                                       alt="Google" style="width:18px; vertical-align:middle; margin-right:6px;"> Sign in with Google`;
            });
          };
        })
        .catch((error) => {
          console.error(error);
          alert("Login failed. Try again.");
        });
    };

    const profileButtons = document.querySelectorAll(".profile-card button");
    profileButtons.forEach(btn => {
      btn.onclick = () => {
        alert("Profile page coming soon!");
      };
    });
  </script>
</body>
</html>
